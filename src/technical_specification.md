# Техническое задание (стандарт IEEE 29148-2011)*

**Система автономного позиционирования и управления БПЛА без GPS**  
**Версия 1.0**  
**Дата: 13 октября 2025 г.**

## **1. Введение**

### **1.1 Цель документа**

Настоящий документ определяет требования к программному обеспечению (ПО) для системы автономного позиционирования и управления беспилотными летательными аппаратами (БПЛА), работающими без использования GPS. Система состоит из двух компонентов:

- **Бортового модуля**, установленного на БПЛА;
- **Программного обеспечения наземной станции (НС)**.

Цель системы — обеспечить автономную навигацию, распознавание объектов и передачу данных между БПЛА и наземной станцией в двух режимах:

- **Автономный разведывательный полёт** (дрон-разведчик);
- **Охрана на привязи** (дрон-охранник).

### **1.2 Область применения**

Система предназначена для использования в условиях отсутствия или недоступности GPS-сигнала (например, внутри помещений, в ущельях, в зонах радиопомех). Может применяться в задачах мониторинга, охраны периметров, поиска объектов и сбора разведданных.

### **1.3 Определения, аббревиатуры и сокращения**

| Термин       | Определение                                        |
| ------------ | -------------------------------------------------- |
| БПЛА         | Беспилотный летательный аппарат                    |
| НС           | Наземная станция                                   |
| UART         | Последовательный интерфейс передачи данных         |
| MAVLink      | Протокол обмена данными для дронов                 |
| Optical Flow | Алгоритм оценки движения на основе видеопотока     |
| AI HAT+      | Аппаратное ускорение ИИ (26 TOPS) для Raspberry Pi |
| WebRTC       | Протокол передачи медиа в реальном времени         |
## **2. Общее описание**

### **2.1 Перспектива продукта**

Система состоит из двух основных компонентов:

1. **Бортовое ПО** на Raspberry Pi 5, выполняющее:
    - Позиционирование по Optical Flow и дальномеру;
    - Распознавание объектов с помощью нейросети;
    - Передачу данных по UART/MAVLink и оптоволокну.
2. **ПО наземной станции** (веб-приложение на React + FastAPI + FastRTC), обеспечивающее:
    - Управление одним или несколькими дронами;
    - Планирование маршрутов;
    - Приём и отображение видеопотока и телеметрии.

### **2.2 Функции пользователя**


| Роль        | Функции                                                                                    |
| ----------- | ------------------------------------------------------------------------------------------ |
| Оператор НС | Планирует маршруты, управляет дронами, просматривает видеопоток и результаты распознавания |
| Система     | Автономно навигирует, распознаёт объекты, сохраняет данные, передаёт информацию на НС      |

### **2.3 Ограничения**

- GPS недоступен.
- Максимальная задержка видео — 300 мс.
- Поддержка до 5 дронов-охранников одновременно.
- Работа только в пределах локальной сети (LAN).

### **2.4 Предположения и зависимости**

- Raspberry Pi 5 оснащён AI HAT+ (26 TOPS).
- Дрон поддерживает протокол MAVLink и имеет UART-интерфейс.
- Наземная станция имеет доступ к локальной сети и поддерживает WebRTC.
- Для дрона-охранника используется оптоволоконный кабель длиной до 100 м.

## **3. Функциональные требования**

### **3.1 Бортовое ПО (на Raspberry Pi 5)**

| ID  | Требование                                                                                                                                                                            | Приоритет |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| F1  | Система должна определять горизонтальное смещение дрона с помощью алгоритма Optical Flow на основе видеопотока с камеры.                                                              | Высокий   |
| F2  | Система должна использовать данные дальномера для перевода смещения из пикселей в метры.                                                                                              | Высокий   |
| F3  | Система должна передавать координаты (x, y, z) дрону по UART с использованием протокола MAVLink.                                                                                      | Высокий   |
| F4  | При старте полёта оператор должен задать начальные координаты (0, 0, 0).                                                                                                              | Средний   |
| F5  | Система должна запускать нейросеть на AI HAT+ для распознавания объектов в реальном времени.                                                                                          | Высокий   |
| F6  | При обнаружении объекта интереса система должна:  <br>– сделать фото с выделением объекта;  <br>– записать координаты места съёмки;  <br>– сохранить данные на SD-карту Raspberry Pi. | Высокий   |
| F7  | В режиме «дрон-охранник» система должна передавать видеопоток, телеметрию и статус батареи по оптоволоконному кабелю на НС.                                                           | Высокий   |
| F8  | В режиме «дрон-разведчик» система должна работать автономно без постоянной связи с НС.                                                                                                | Средний   |
### **3.2 ПО наземной станции**

| ID  | Требование                                                                                                                                            | Приоритет |
| --- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| F9  | ПО должно предоставлять веб-интерфейс на базе React.                                                                                                  | Высокий   |
| F10 | ПО должно поддерживать составление маршрутов на интерактивной карте (точки пути).                                                                     | Высокий   |
| F11 | После завершения полёта дрон-разведчик должен передавать на НС все собранные данные (фото, координаты).                                               | Высокий   |
| F12 | В режиме «дрон-охранник» ПО должно отображать:  <br>– видеопоток через WebRTC;  <br>– текущие координаты, высоту, заряд батареи;  <br>– статус дрона. | Высокий   |
| F13 | Оператор должен иметь возможность управлять дроном: взлёт, посадка, изменение режима полёта.                                                          | Высокий   |
| F14 | ПО должно поддерживать одновременное подключение и управление до 5 дронов-охранников.                                                                 | Средний   |
| F15 | Серверная часть (FastAPI + FastRTC) должна обеспечивать низколатентную передачу видео и команд.                                                       | Высокий   |

## **4. Нефункциональные требования**

### **4.1 Производительность**

- Задержка видеопотока: ≤ 300 мс.
- Частота обновления телеметрии: ≥ 10 Гц.
- Время запуска нейросети: ≤ 2 с после старта.

### **4.2 Надёжность**

- Система должна сохранять данные при отключении питания (журналирование на SD-карту).
- При обрыве связи дрон-разведчик должен завершить маршрут или вернуться к точке старта.

### **4.3 Безопасность**

- Доступ к НС — только по локальной сети.
- Аутентификация оператора (логин/пароль или токен).
- Шифрование данных не требуется (локальная сеть доверенная).

### **4.4 Удобство использования**

- Интерфейс НС должен быть интуитивно понятным.
- Все команды управления — одной кнопкой.
- Поддержка русского и английского языков (опционально).

### **4.5 Совместимость**

- Поддержка Raspberry Pi 5 с AI HAT+.
- Совместимость с дронами, поддерживающими MAVLink и UART.
- Браузеры: Chrome, Firefox (последние версии).

## **5. Внешние интерфейсы**

### **5.1 Интерфейсы пользователя (UI)**

- Веб-интерфейс НС: карта, видеоплеер WebRTC, панель управления, индикаторы телеметрии.

### **5.2 Аппаратные интерфейсы**

- Камера → Raspberry Pi (CSI или USB).
- Дальномер → GPIO/I²C/UART Raspberry Pi.
- Raspberry Pi ↔ дрон: UART + MAVLink.
- Raspberry Pi ↔ НС: оптоволокно (Ethernet-over-fiber) или Wi-Fi (для разведчика при возврате).

### **5.3 Программные интерфейсы**

- FastAPI: REST API для управления дронами и получения данных.
- FastRTC: WebRTC-сервер для потоковой передачи видео.
- React: фронтенд с WebSocket/WebRTC-клиентом.
- OpenCV / TensorFlow Lite: для Optical Flow и нейросети.

## **6. Другие требования**

- Исходный код должен быть модульным и покрыт unit-тестами (≥ 70%).
- Документация по установке и эксплуатации обязательна.
- Возможность обновления модели нейросети без перезапуска системы.